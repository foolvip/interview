### 浏览器实现缓存机制：
https://juejin.im/entry/5ad86c16f265da505a77dca4   
强制缓存、协商缓存   
浏览器的缓存机制也就是我们说的HTTP缓存机制，其机制是根据HTTP报文的缓存标识进行的.  
### 缓存
http权威指南第七章（170）  
缓存是请求资源的副本   
缓存的好处：  
缓存在宏观上可以分成两类：私有缓存和共享缓存。共享缓存就是那些能被各级代理缓存的缓存。私有缓存就是用户专享的，各级代理不能缓存的缓存。   
微观上可以分下面三类：浏览器缓存、代理服务器缓存、网关缓存、数据库缓存   
https://juejin.im/post/5a6c87c46fb9a01ca560b4d7  
#### 浏览器缓存
浏览器对于缓存的处理是根据第一次请求资源时返回的响应头来确定的。  
浏览器怎么确定一个资源该不该缓存，如何去缓存呢❓响应头！   
强缓存阶段(本地缓存：Expires,Cache-Control)，服务器响应的header中会用两个字段来表明——Expires和Cache-Control。   
Cache-Control有很多属性，不同的属性代表的意义也不同。  
private：客户端可以缓存  
public：客户端和代理服务器都可以缓存  
max-age=t：缓存内容将在t秒后失效  
no-cache：需要使用协商缓存来验证缓存数据  
no-store：所有内容都不会缓存。  
协商缓存阶段：是强制缓存失效后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识决定是否使用缓存的过程    
两种缓存方案（If-none-match/ETag,If-modified-since/last-modified）  
### 请问如何进行首页加载优化?
-CDN分发: 通过在多台服务器部署相同的副本，当用户访问时，服务器根据用户跟哪台服务器地理距离小或者哪台服务器此时的压力小，来决定哪台服务器去响应这个请求
- 后端在业务层的缓存:数据库查询缓存是可以设置缓存的，这个对处于高频率的请求是很有用。值得注意的是，接口也是可以设置缓存的，比如获取一定时间内不会变的资源，设置缓存会很有用
- 静态文件缓存方案: 现在流行的方式是文件hash+强缓存的一个方案。比如hash+cache control:max-age=1年  
- 前端的资源动态加载:
1. 路由动态加载，是最常用的方法，以页面为单位，进行动态加载。
2. 组件动态加载，对于不在当前视窗的组件，先不加载
3. 图片懒加载，越来越多的浏览器支持原生的懒加载，通过给img标签加上 loading="lazy"来开启懒加载模式
- 利用好async和defer这两个属性: 如果是独立功能的js文件，可以加入async属性。如果是优先级低并且没有依赖的js，我们可以加入defer属性。
- 渲染的优先级: 浏览器有一套资源的加载优先级策略。也可以通过js来自己控制请求的顺序和渲染的顺序。一般我们不需要这么细粒度的控制，而且控制的代码也不好写。
- 前端做一些接口缓存:前端也可以做接口缓存，缓存的位置有两个，一个是内存，即保存给变量，另一个是localStorage。比如用户的签到日历(展示用户是否签到)，我们可以缓存这样的接口到localStorage，有效期是当天。或者有个列表页面，我们总是缓存上次的列表内容到本地，下次加载时，我们先从本地读取缓存，并同时发起请求到服务器获取最新列表
- 页面使用骨架屏: 在首屏加载完成之前，通过渲染一些简单元素进行占位。骨架屏虽然不能提高首屏加载速度，但可以减少用户在首屏等待的急躁心情
- 引入http2.0： http2对比http1.1，最主要的提升是运输性能，特别在接口小而多的时候
- 利用好http压缩:使用http压缩的效果会非常明显
## 安全
### xss cross-site scripting跨域脚本攻击
XSS攻击，通常指黑客通过“HTML注入”篡改了网页，插入了恶意的脚本， 从而在用户浏览网页时，控制用户浏览器的一种攻击。
它允许恶意web用户将代码植入到提供给其它用户使用的页面中。其实在web前端方面，可以简单的理解为一种javascript代码注入。
#### XSS攻击分为三种，分别是：
1. Reflected XSS（基于反射的XSS攻击）：反射性XSS只是简单地把用户输入的数据“反射”给浏览器。也就是说，黑客往往需要诱使用户“点击”一个恶意链接，才能攻击成功。
2. Stored XSS（基于存储的XSS攻击）：存储型XSS会把用户输入的数据“存储”在服务器端。这种XSS具有很强的稳定性。
3. DOM-based or local XSS（基于DOM或本地的XSS攻击）：从效果上来说也是反射性XSS。通过修改页面的DOM节点形成的XSS，称之为DOM Based XSS。
#### 防御方法
- HttpOnly
- 处理富文本
- 输入检查
- 输出检查
- 使用innerHTML document.wirte的数据的时候 如果数据是用户输入的时候 需要对关键字进行过滤与转移。
### CSRF跨站请求伪造
网站的一些提交行为被黑客利用，在你访问黑客网站的时候进行的操作会被操作到其他网站。
#### 防御方法
- 验证码
- Referer Check
- 使用Token
